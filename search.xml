<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>小米8ud刷入Win11教程</title>
      <link href="/2021/09/13/shua-ji-xi-lie/xiao-mi-8ud-shua-ru-win11-jiao-cheng/"/>
      <url>/2021/09/13/shua-ji-xi-lie/xiao-mi-8ud-shua-ru-win11-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h1><h2 id="（一）各种下载"><a href="#（一）各种下载" class="headerlink" title="（一）各种下载"></a>（一）各种下载</h2><h3 id="1、PE镜像：pe-密码1234"><a href="#1、PE镜像：pe-密码1234" class="headerlink" title="1、PE镜像：pe 密码1234"></a>1、PE镜像：<a href="https://pan.adycloud.com/s/aOWuO">pe 密码1234</a></h3><h3 id="2、dism-：dism"><a href="#2、dism-：dism" class="headerlink" title="2、dism++：dism++"></a>2、dism++：<a href="http://www.chuyu.me/zh-Hans/index.html">dism++</a></h3><h3 id="3、SDM845驱动：SDM845驱动-需要clone下来并根据github页面的命令，打开windows-powershell，输入：-extract-sh-equuleus解得output文件"><a href="#3、SDM845驱动：SDM845驱动-需要clone下来并根据github页面的命令，打开windows-powershell，输入：-extract-sh-equuleus解得output文件" class="headerlink" title="3、SDM845驱动：SDM845驱动  需要clone下来并根据github页面的命令，打开windows powershell，输入：./extract.sh equuleus解得output文件"></a>3、SDM845驱动：<a href="https://github.com/edk2-porting/WOA-Drivers">SDM845驱动</a>  需要clone下来并根据github页面的命令，打开windows powershell，输入：<code>./extract.sh equuleus</code>解得output文件</h3><h3 id="4、win11-arm64-iso-UUP-Dump"><a href="#4、win11-arm64-iso-UUP-Dump" class="headerlink" title="4、win11 arm64 iso:UUP Dump"></a>4、win11 arm64 iso:<a href="https://uupdump.net/?lang=zh-cn">UUP Dump</a></h3><h3 id="5、UEFI：uefi"><a href="#5、UEFI：uefi" class="headerlink" title="5、UEFI：uefi"></a>5、UEFI：<a href="https://github.com/edk2-porting/edk2-sdm845/releases">uefi</a></h3><h3 id="6、parted-：parted"><a href="#6、parted-：parted" class="headerlink" title="6、parted  ：parted"></a>6、parted  ：<a href="https://wwa.lanzoui.com/izy3qrsd8ab">parted</a></h3><h3 id="7、一键TWRP（wzsx150制作）：TWRP"><a href="#7、一键TWRP（wzsx150制作）：TWRP" class="headerlink" title="7、一键TWRP（wzsx150制作）：TWRP"></a>7、一键TWRP（wzsx150制作）：<a href="https://wwa.lanzoui.com/icFdWrsd98f">TWRP</a></h3><h2 id="（二）软件及硬件"><a href="#（二）软件及硬件" class="headerlink" title="（二）软件及硬件"></a>（二）软件及硬件</h2><h3 id="1、最重要！-①刷了第三方rec的小米8UD-128G（教程分区部分是128G版本的，可根据自己需要来分区"><a href="#1、最重要！-①刷了第三方rec的小米8UD-128G（教程分区部分是128G版本的，可根据自己需要来分区" class="headerlink" title="1、最重要！ ①刷了第三方rec的小米8UD   128G（教程分区部分是128G版本的，可根据自己需要来分区)"></a>1、最重要！ ①刷了第三方rec的小米8UD   128G（教程分区部分是128G版本的，可根据自己需要来分区)</h3><h3 id="2、usb拓展坞-键盘-鼠标"><a href="#2、usb拓展坞-键盘-鼠标" class="headerlink" title="2、usb拓展坞 键盘 鼠标"></a>2、usb拓展坞 键盘 鼠标</h3><h3 id="3、电脑要装adb（自行百度设置环境变量）"><a href="#3、电脑要装adb（自行百度设置环境变量）" class="headerlink" title="3、电脑要装adb（自行百度设置环境变量）"></a>3、电脑要装adb（自行百度设置环境变量）</h3><h2 id="（三）需要复制到U盘的文件："><a href="#（三）需要复制到U盘的文件：" class="headerlink" title="（三）需要复制到U盘的文件："></a>（三）需要复制到U盘的文件：</h2><h3 id="dism-、驱动执行命令后得到的output文件夹、win镜像"><a href="#dism-、驱动执行命令后得到的output文件夹、win镜像" class="headerlink" title="dism++、驱动执行命令后得到的output文件夹、win镜像"></a>dism++、驱动执行命令后得到的output文件夹、win镜像</h3><hr><h1 id="二、刷入TWRP-boot签名-复制文件"><a href="#二、刷入TWRP-boot签名-复制文件" class="headerlink" title="二、刷入TWRP+boot签名+复制文件"></a>二、刷入TWRP+boot签名+复制文件</h1><h3 id="1、手机进入fastboot，连接电脑，使用一键刷入bat文件"><a href="#1、手机进入fastboot，连接电脑，使用一键刷入bat文件" class="headerlink" title="1、手机进入fastboot，连接电脑，使用一键刷入bat文件"></a>1、手机进入fastboot，连接电脑，使用一键刷入bat文件</h3><h3 id="2、进入twrp后，高级–签名boot-（防止重启掉rec）"><a href="#2、进入twrp后，高级–签名boot-（防止重启掉rec）" class="headerlink" title="2、进入twrp后，高级–签名boot （防止重启掉rec）"></a>2、进入twrp后，高级–签名boot （防止重启掉rec）</h3><h3 id="3、将parted-文件复制到手机内部存储！（即手机连电脑后用MTP传输文件）"><a href="#3、将parted-文件复制到手机内部存储！（即手机连电脑后用MTP传输文件）" class="headerlink" title="3、将parted 文件复制到手机内部存储！（即手机连电脑后用MTP传输文件）"></a>3、<strong>将parted 文件复制到手机内部存储！（即手机连电脑后用MTP传输文件）</strong></h3><hr><h1 id="三、分区"><a href="#三、分区" class="headerlink" title="三、分区"></a>三、分区</h1><h3 id="1、分区"><a href="#1、分区" class="headerlink" title="1、分区"></a>1、分区</h3><p>手机进入TWRP，电脑进入adb shell<br>以下内容一行一行地复制</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cp /sdcard/parted /sbin/ &amp;&amp; chmod 755 /sbin/parted</span><br><span class="line">umount /data &amp;&amp; umount /sdcard</span><br><span class="line">parted /dev/block/sda</span><br><span class="line">rm 21 #21是userdata分区号</span><br><span class="line">mkpart esp fat32 1611MB 1900MB</span><br><span class="line">mkpart pe fat32 1900MB 2750MB</span><br><span class="line">mkpart win ntfs 2750MB 113GB</span><br><span class="line">mkpart userdata ext4 113GB 123GB</span><br><span class="line">set 21 esp on  </span><br></pre></td></tr></table></figure><p>备注：WIN11释放后占用约24GB</p><h3 id="2、重启TWRP，电脑再次进入adb-shell。格式化分区"><a href="#2、重启TWRP，电脑再次进入adb-shell。格式化分区" class="headerlink" title="2、重启TWRP，电脑再次进入adb shell。格式化分区"></a>2、重启TWRP，电脑再次进入adb shell。格式化分区</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 -s1 /dev/block/by-name/pe</span><br><span class="line">mkfs.fat -F32 -s1 /dev/block/by-name/esp</span><br><span class="line">mkfs.ntfs -f /dev/block/by-name/win</span><br><span class="line">mke2fs -t ext4 /dev/block/by-name/userdata</span><br></pre></td></tr></table></figure><h3 id="3、重启TWRP，挂载PE分区到-mnt"><a href="#3、重启TWRP，挂载PE分区到-mnt" class="headerlink" title="3、重启TWRP，挂载PE分区到 /mnt"></a>3、重启TWRP，挂载PE分区到 /mnt</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/block/by-name/pe /mnt</span><br></pre></td></tr></table></figure><h3 id="4、将PE系统文件复制进手机内部存储（先解压20h2pe-new-zip文件，后将解压后的整个文件夹复制）"><a href="#4、将PE系统文件复制进手机内部存储（先解压20h2pe-new-zip文件，后将解压后的整个文件夹复制）" class="headerlink" title="4、将PE系统文件复制进手机内部存储（先解压20h2pe_new.zip文件，后将解压后的整个文件夹复制）"></a>4、将PE系统文件复制进手机内部存储（先解压20h2pe_new.zip文件，后将解压后的整个文件夹复制）</h3><h3 id="5、使用命令复制20h2pe-new下的文件到-mnt"><a href="#5、使用命令复制20h2pe-new下的文件到-mnt" class="headerlink" title="5、使用命令复制20h2pe_new下的文件到/mnt"></a>5、使用命令复制20h2pe_new下的文件到/mnt</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /sdcard/20h2pe_new/* /mnt</span><br></pre></td></tr></table></figure><h3 id="6、把boot-dipper-img复制到手机存储"><a href="#6、把boot-dipper-img复制到手机存储" class="headerlink" title="6、把boot-dipper.img复制到手机存储"></a>6、把boot-dipper.img复制到手机存储</h3><h3 id="7、重启进入TWRP，备份–分区–boot-（防止后面回不到安卓）"><a href="#7、重启进入TWRP，备份–分区–boot-（防止后面回不到安卓）" class="headerlink" title="7、重启进入TWRP，备份–分区–boot （防止后面回不到安卓）"></a>7、重启进入TWRP，备份–分区–boot （防止后面回不到安卓）</h3><h3 id="8、TWRP中，安装–刷入image镜像–boot–equuleus-img–boot分区–重启手机"><a href="#8、TWRP中，安装–刷入image镜像–boot–equuleus-img–boot分区–重启手机" class="headerlink" title="8、TWRP中，安装–刷入image镜像–boot–equuleus.img–boot分区–重启手机"></a>8、TWRP中，安装–刷入image镜像–boot–equuleus.img–boot分区–重启手机</h3><h3 id="9、此时如果成功，将会出现加载界面并进入pe。如果失败（跑一堆英文），则从第5步重来"><a href="#9、此时如果成功，将会出现加载界面并进入pe。如果失败（跑一堆英文），则从第5步重来" class="headerlink" title="9、此时如果成功，将会出现加载界面并进入pe。如果失败（跑一堆英文），则从第5步重来"></a>9、此时如果成功，将会出现加载界面并进入pe。如果失败（跑一堆英文），则从第5步重来</h3><hr><h1 id="四、安装win11"><a href="#四、安装win11" class="headerlink" title="四、安装win11"></a>四、安装win11</h1><h2 id="1、进入PE系统"><a href="#1、进入PE系统" class="headerlink" title="1、进入PE系统"></a>1、进入PE系统</h2><p>此时你可以连接鼠标键盘了！<br>你能看到有一个命令行窗口，不要关掉它！下面的命令在命令行里完成：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">diskpart  #回车之后稍等一小会</span><br><span class="line">select disk 0</span><br><span class="line">list part</span><br><span class="line">select part 21 //21为你的esp分区号</span><br><span class="line">assign letter=Y</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><h2 id="2、安装win11"><a href="#2、安装win11" class="headerlink" title="2、安装win11"></a>2、安装win11</h2><h3 id="①打开dism-，文件–释放镜像到某盘（空间最大的那个）-勾选-添加引导！！"><a href="#①打开dism-，文件–释放镜像到某盘（空间最大的那个）-勾选-添加引导！！" class="headerlink" title="①打开dism++，文件–释放镜像到某盘（空间最大的那个） 勾选 添加引导！！"></a>①打开dism++，文件–释放镜像到某盘（空间最大的那个） <strong>勾选 添加引导！！</strong></h3><h3 id="②等待释放完成，打开会话–驱动管理–添加驱动–选中你复制到U盘的整个output目录"><a href="#②等待释放完成，打开会话–驱动管理–添加驱动–选中你复制到U盘的整个output目录" class="headerlink" title="②等待释放完成，打开会话–驱动管理–添加驱动–选中你复制到U盘的整个output目录"></a>②等待释放完成，打开会话–驱动管理–添加驱动–选中你复制到U盘的整个output目录</h3><h2 id="3、关闭驱动签名（复制并保存为txt文件到U盘）"><a href="#3、关闭驱动签名（复制并保存为txt文件到U盘）" class="headerlink" title="3、关闭驱动签名（复制并保存为txt文件到U盘）"></a>3、关闭驱动签名（复制并保存为txt文件到U盘）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /store Y:\efi\microsoft\boot\bcd /set &#123;Default&#125; testsigning on</span><br><span class="line">bcdedit /store Y:\efi\microsoft\boot\bcd /set &#123;Default&#125; nointegritychecks on</span><br></pre></td></tr></table></figure><h2 id="4、重启，进入到win11系统"><a href="#4、重启，进入到win11系统" class="headerlink" title="4、重启，进入到win11系统"></a>4、重启，进入到win11系统</h2>]]></content>
      
      
      <categories>
          
          <category> 刷机系列 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
